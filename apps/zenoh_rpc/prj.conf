# C++ support
CONFIG_CPP=y
CONFIG_STD_CPP20=y
# Standard library (recommended settings for the latest version of libcpp)
CONFIG_REQUIRES_FULL_LIBCPP=y

# Enable logging (required)
CONFIG_LOG=y

# Enable reboot API
CONFIG_REBOOT=y

# ============================================================================
# POSIX API (required for zenoh-pico multi-threading)
# ============================================================================
CONFIG_POSIX_API=y
#Increase Number of Mutex and cond for zenoh-pico
CONFIG_MAX_PTHREAD_MUTEX_COUNT=16
CONFIG_MAX_PTHREAD_COND_COUNT=16

# ============================================================================
# Networking (required for zenoh-pico type definitions, even if not used)
# ============================================================================
CONFIG_NETWORKING=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_IPV4=y

# ============================================================================
# UART0 Console (GP0=TX, GP1=RX)
# ============================================================================
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# ============================================================================
# USB CDC-ACM (Serial over USB for Zenoh transport)
# ============================================================================
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=n
CONFIG_USB_CDC_ACM=y
CONFIG_USB_DEVICE_PRODUCT="Zenoh RPC Device"
CONFIG_USB_DEVICE_VID=0x2FE3
CONFIG_USB_DEVICE_PID=0x0100

# USB CDC-ACM settings
CONFIG_UART_LINE_CTRL=y

# Network buffers (for Wi-Fi)
CONFIG_NET_PKT_RX_COUNT=32
CONFIG_NET_PKT_TX_COUNT=32
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=64
CONFIG_NET_BUF_DATA_SIZE=256
CONFIG_NET_TCP_MAX_SEND_WINDOW_SIZE=2048
CONFIG_NET_TCP_MAX_RECV_WINDOW_SIZE=2048

# TCP/UDP stack
CONFIG_NET_TCP=y
CONFIG_NET_UDP=y

# Network connection manager
CONFIG_NET_CONNECTION_MANAGER=y

# Log USB for debugging
CONFIG_USB_DEVICE_LOG_LEVEL_DBG=n
CONFIG_NET_LOG=y

# ============================================================================
# Zenoh-Pico
# Zenoh pico options is omitted since we have to use zenoh_generic_config.h to overwrite...
# ============================================================================
CONFIG_ZENOH_PICO=y

# ============================================================================
# NanoPB
# ============================================================================
CONFIG_NANOPB=y
CONFIG_NANOPB_ENABLE_MALLOC=y

# ============================================================================
# Memory allocation
# ============================================================================
CONFIG_HEAP_MEM_POOL_SIZE=262144
CONFIG_MAIN_STACK_SIZE=8192

# Enable entropy generator
CONFIG_ENTROPY_GENERATOR=y
CONFIG_TEST_RANDOM_GENERATOR=y

# ============================================================================
# Wi-Fi
# ============================================================================
CONFIG_WIFI=y
CONFIG_NET_L2_WIFI_MGMT=y
CONFIG_NET_DHCPV4=y

# ============================================================================
# NVS for Wi-Fi Credentials Storage
# ============================================================================
CONFIG_FLASH=y
CONFIG_NVS=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y

# Wi-Fi Credentials Library (uses settings subsystem)
CONFIG_WIFI_CREDENTIALS=y
CONFIG_WIFI_CREDENTIALS_BACKEND_SETTINGS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y
CONFIG_FLASH_MAP=y
# ============================================================================
# Increased Memory for Wi-Fi
# ============================================================================
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048

# ============================================================================
# Sensors
# ============================================================================
CONFIG_SENSOR=y
CONFIG_DHT=y
CONFIG_DHT_LOCK_IRQS=y

# ============================================================================
# Debugging Options
# ============================================================================
CONFIG_DEBUG=y
CONFIG_DEBUG_OPTIMIZATIONS=y  
CONFIG_EXCEPTION_STACK_TRACE=y
CONFIG_LOG_MODE_IMMEDIATE=y
CONFIG_THREAD_NAME=y